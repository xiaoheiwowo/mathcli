# 开发一个数学试题批改工具

输入：试卷图片
输出：判断答题是否正确，对错误题目分析错误原因，并给出建议。

基本处理流程：
1. 图片 OCR 识别题目，包含计算过程。
2. 使用 AI 模块将 OCR 结果中的计算题目处理为结构化的 JSON 数据，方便程序处理。
3. 使用 AI 或程序对计算过程进行检测，判断过程和结果是否正确。
4. 使用 AI 分析结果。

每个阶段的处理结果保存下来。

原则：必须确保分析的正确性，内容必须要符合数学原理，不要随意生成，如果无法判断原因，可输出为未知原因。

用法: mathcli -i <image_path>
输出: result.json, 以及 log.txt, log 中包含 ocr 结果，处理过程，最终分析结果

qwen-vl-ocr
qwen-plus


## 题目计算过程结构

```json
{ 
    "problems":  {
        "id": "problem_1",
        "text": "14. 11/16 + 4/9 + 5/16",
        "type": "fraction",
        "student_solution": {
            "raw": "= 11/16 + 5/16 + 4/9\n= 16/16 = 1 + 4/9\n= 13/9\n= 13/9\n",
            "steps": [
                {
                    "from": "11/16 + 5/16 + 4/9",
                    "to": "11/16 + 4/9 + 5/16",
                    "is_correct": true
                },
                {
                    "from": "11/16 + 4/9 + 5/16",
                    "to": "16/16",
                    "is_correct": false
                },
                {
                    "from": "16/16",
                    "to": "1 + 4/9",
                    "is_correct": false
                },
                {
                    "from": "1 + 4/9",
                    "to": "13/9",
                    "is_correct": true
                },
                {
                    "from": "13/9",
                    "to": "13/9",
                    "is_correct": true
                }
            ],
            "calculation": [
                {
                    "from": "4/9 + 5/16 ",
                    "to": "5/16 + 4/9",
                    "point": "交换律"
                },
                {
                    "from": "11/16 + 5/16",
                    "to": "16/16",
                    "point": "分数加法"
                },
                {
                    "from": "16/16",
                    "to": "1",
                    "point": "约分"
                },
                {
                    "from": "1 + 4/9",
                    "to": "13/9",
                    "point": "分数加法"
                }
            ]
        }
    }
}

```